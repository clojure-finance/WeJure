{
"version":3,
"file":"module$node_modules$xhr2_cookies$dist$xml_http_request.js",
"lineCount":27,
"mappings":"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",
"sources":["node_modules/xhr2-cookies/dist/xml-http-request.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$xhr2_cookies$dist$xml_http_request\"] = function(global,require,module,exports) {\nvar process = require('process');\nvar Buffer = require('buffer').Buffer;\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar os = require(\"os\");\nvar url = require(\"url\");\nvar progress_event_1 = require(\"./progress-event\");\nvar errors_1 = require(\"./errors\");\nvar xml_http_request_event_target_1 = require(\"./xml-http-request-event-target\");\nvar xml_http_request_upload_1 = require(\"./xml-http-request-upload\");\nvar Cookie = require(\"cookiejar\");\nvar XMLHttpRequest = /** @class */ (function (_super) {\n    __extends(XMLHttpRequest, _super);\n    function XMLHttpRequest(options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this) || this;\n        _this.UNSENT = XMLHttpRequest.UNSENT;\n        _this.OPENED = XMLHttpRequest.OPENED;\n        _this.HEADERS_RECEIVED = XMLHttpRequest.HEADERS_RECEIVED;\n        _this.LOADING = XMLHttpRequest.LOADING;\n        _this.DONE = XMLHttpRequest.DONE;\n        _this.onreadystatechange = null;\n        _this.readyState = XMLHttpRequest.UNSENT;\n        _this.response = null;\n        _this.responseText = '';\n        _this.responseType = '';\n        _this.status = 0; // TODO: UNSENT?\n        _this.statusText = '';\n        _this.timeout = 0;\n        _this.upload = new xml_http_request_upload_1.XMLHttpRequestUpload();\n        _this.responseUrl = '';\n        _this.withCredentials = false;\n        _this._method = null;\n        _this._url = null;\n        _this._sync = false;\n        _this._headers = {};\n        _this._loweredHeaders = {};\n        _this._mimeOverride = null; // TODO: is type right?\n        _this._request = null;\n        _this._response = null;\n        _this._responseParts = null;\n        _this._responseHeaders = null;\n        _this._aborting = null; // TODO: type?\n        _this._error = null; // TODO: type?\n        _this._loadedBytes = 0;\n        _this._totalBytes = 0;\n        _this._lengthComputable = false;\n        _this._restrictedMethods = { CONNECT: true, TRACE: true, TRACK: true };\n        _this._restrictedHeaders = {\n            'accept-charset': true,\n            'accept-encoding': true,\n            'access-control-request-headers': true,\n            'access-control-request-method': true,\n            connection: true,\n            'content-length': true,\n            cookie: true,\n            cookie2: true,\n            date: true,\n            dnt: true,\n            expect: true,\n            host: true,\n            'keep-alive': true,\n            origin: true,\n            referer: true,\n            te: true,\n            trailer: true,\n            'transfer-encoding': true,\n            upgrade: true,\n            'user-agent': true,\n            via: true\n        };\n        _this._privateHeaders = { 'set-cookie': true, 'set-cookie2': true };\n        _this._userAgent = \"Mozilla/5.0 (\" + os.type() + \" \" + os.arch() + \") node.js/\" + process.versions.node + \" v8/\" + process.versions.v8;\n        _this._anonymous = options.anon || false;\n        return _this;\n    }\n    XMLHttpRequest.prototype.open = function (method, url, async, user, password) {\n        if (async === void 0) { async = true; }\n        method = method.toUpperCase();\n        if (this._restrictedMethods[method]) {\n            throw new XMLHttpRequest.SecurityError(\"HTTP method \" + method + \" is not allowed in XHR\");\n        }\n        ;\n        var xhrUrl = this._parseUrl(url, user, password);\n        if (this.readyState === XMLHttpRequest.HEADERS_RECEIVED || this.readyState === XMLHttpRequest.LOADING) {\n            // TODO(pwnall): terminate abort(), terminate send()\n        }\n        this._method = method;\n        this._url = xhrUrl;\n        this._sync = !async;\n        this._headers = {};\n        this._loweredHeaders = {};\n        this._mimeOverride = null;\n        this._setReadyState(XMLHttpRequest.OPENED);\n        this._request = null;\n        this._response = null;\n        this.status = 0;\n        this.statusText = '';\n        this._responseParts = [];\n        this._responseHeaders = null;\n        this._loadedBytes = 0;\n        this._totalBytes = 0;\n        this._lengthComputable = false;\n    };\n    XMLHttpRequest.prototype.setRequestHeader = function (name, value) {\n        if (this.readyState !== XMLHttpRequest.OPENED) {\n            throw new XMLHttpRequest.InvalidStateError('XHR readyState must be OPENED');\n        }\n        var loweredName = name.toLowerCase();\n        if (this._restrictedHeaders[loweredName] || /^sec-/.test(loweredName) || /^proxy-/.test(loweredName)) {\n            console.warn(\"Refused to set unsafe header \\\"\" + name + \"\\\"\");\n            return;\n        }\n        value = value.toString();\n        if (this._loweredHeaders[loweredName] != null) {\n            name = this._loweredHeaders[loweredName];\n            this._headers[name] = this._headers[name] + \", \" + value;\n        }\n        else {\n            this._loweredHeaders[loweredName] = name;\n            this._headers[name] = value;\n        }\n    };\n    XMLHttpRequest.prototype.send = function (data) {\n        if (this.readyState !== XMLHttpRequest.OPENED) {\n            throw new XMLHttpRequest.InvalidStateError('XHR readyState must be OPENED');\n        }\n        if (this._request) {\n            throw new XMLHttpRequest.InvalidStateError('send() already called');\n        }\n        switch (this._url.protocol) {\n            case 'file:':\n                return this._sendFile(data);\n            case 'http:':\n            case 'https:':\n                return this._sendHttp(data);\n            default:\n                throw new XMLHttpRequest.NetworkError(\"Unsupported protocol \" + this._url.protocol);\n        }\n    };\n    XMLHttpRequest.prototype.abort = function () {\n        if (this._request == null) {\n            return;\n        }\n        this._request.abort();\n        this._setError();\n        this._dispatchProgress('abort');\n        this._dispatchProgress('loadend');\n    };\n    XMLHttpRequest.prototype.getResponseHeader = function (name) {\n        if (this._responseHeaders == null || name == null) {\n            return null;\n        }\n        var loweredName = name.toLowerCase();\n        return this._responseHeaders.hasOwnProperty(loweredName)\n            ? this._responseHeaders[name.toLowerCase()]\n            : null;\n    };\n    XMLHttpRequest.prototype.getAllResponseHeaders = function () {\n        var _this = this;\n        if (this._responseHeaders == null) {\n            return '';\n        }\n        return Object.keys(this._responseHeaders).map(function (key) { return key + \": \" + _this._responseHeaders[key]; }).join('\\r\\n');\n    };\n    XMLHttpRequest.prototype.overrideMimeType = function (mimeType) {\n        if (this.readyState === XMLHttpRequest.LOADING || this.readyState === XMLHttpRequest.DONE) {\n            throw new XMLHttpRequest.InvalidStateError('overrideMimeType() not allowed in LOADING or DONE');\n        }\n        this._mimeOverride = mimeType.toLowerCase();\n    };\n    XMLHttpRequest.prototype.nodejsSet = function (options) {\n        this.nodejsHttpAgent = options.httpAgent || this.nodejsHttpAgent;\n        this.nodejsHttpsAgent = options.httpsAgent || this.nodejsHttpsAgent;\n        if (options.hasOwnProperty('baseUrl')) {\n            if (options.baseUrl != null) {\n                var parsedUrl = url.parse(options.baseUrl, false, true);\n                if (!parsedUrl.protocol) {\n                    throw new XMLHttpRequest.SyntaxError(\"baseUrl must be an absolute URL\");\n                }\n            }\n            this.nodejsBaseUrl = options.baseUrl;\n        }\n    };\n    XMLHttpRequest.nodejsSet = function (options) {\n        XMLHttpRequest.prototype.nodejsSet(options);\n    };\n    XMLHttpRequest.prototype._setReadyState = function (readyState) {\n        this.readyState = readyState;\n        this.dispatchEvent(new progress_event_1.ProgressEvent('readystatechange'));\n    };\n    XMLHttpRequest.prototype._sendFile = function (data) {\n        // TODO\n        throw new Error('Protocol file: not implemented');\n    };\n    XMLHttpRequest.prototype._sendHttp = function (data) {\n        if (this._sync) {\n            throw new Error('Synchronous XHR processing not implemented');\n        }\n        if (data && (this._method === 'GET' || this._method === 'HEAD')) {\n            console.warn(\"Discarding entity body for \" + this._method + \" requests\");\n            data = null;\n        }\n        else {\n            data = data || '';\n        }\n        this.upload._setData(data);\n        this._finalizeHeaders();\n        this._sendHxxpRequest();\n    };\n    XMLHttpRequest.prototype._sendHxxpRequest = function () {\n        var _this = this;\n        if (this.withCredentials) {\n            var cookie = XMLHttpRequest.cookieJar\n                .getCookies(Cookie.CookieAccessInfo(this._url.hostname, this._url.pathname, this._url.protocol === 'https:')).toValueString();\n            this._headers.cookie = this._headers.cookie2 = cookie;\n        }\n        var _a = this._url.protocol === 'http:' ? [http, this.nodejsHttpAgent] : [https, this.nodejsHttpsAgent], hxxp = _a[0], agent = _a[1];\n        var requestMethod = hxxp.request.bind(hxxp);\n        var request = requestMethod({\n            hostname: this._url.hostname,\n            port: +this._url.port,\n            path: this._url.path,\n            auth: this._url.auth,\n            method: this._method,\n            headers: this._headers,\n            agent: agent\n        });\n        this._request = request;\n        if (this.timeout) {\n            request.setTimeout(this.timeout, function () { return _this._onHttpTimeout(request); });\n        }\n        request.on('response', function (response) { return _this._onHttpResponse(request, response); });\n        request.on('error', function (error) { return _this._onHttpRequestError(request, error); });\n        this.upload._startUpload(request);\n        if (this._request === request) {\n            this._dispatchProgress('loadstart');\n        }\n    };\n    XMLHttpRequest.prototype._finalizeHeaders = function () {\n        this._headers = __assign({}, this._headers, { Connection: 'keep-alive', Host: this._url.host, 'User-Agent': this._userAgent }, this._anonymous ? { Referer: 'about:blank' } : {});\n        this.upload._finalizeHeaders(this._headers, this._loweredHeaders);\n    };\n    XMLHttpRequest.prototype._onHttpResponse = function (request, response) {\n        var _this = this;\n        if (this._request !== request) {\n            return;\n        }\n        if (this.withCredentials && (response.headers['set-cookie'] || response.headers['set-cookie2'])) {\n            XMLHttpRequest.cookieJar\n                .setCookies(response.headers['set-cookie'] || response.headers['set-cookie2']);\n        }\n        if ([301, 302, 303, 307, 308].indexOf(response.statusCode) >= 0) {\n            this._url = this._parseUrl(response.headers.location);\n            this._method = 'GET';\n            if (this._loweredHeaders['content-type']) {\n                delete this._headers[this._loweredHeaders['content-type']];\n                delete this._loweredHeaders['content-type'];\n            }\n            if (this._headers['Content-Type'] != null) {\n                delete this._headers['Content-Type'];\n            }\n            delete this._headers['Content-Length'];\n            this.upload._reset();\n            this._finalizeHeaders();\n            this._sendHxxpRequest();\n            return;\n        }\n        this._response = response;\n        this._response.on('data', function (data) { return _this._onHttpResponseData(response, data); });\n        this._response.on('end', function () { return _this._onHttpResponseEnd(response); });\n        this._response.on('close', function () { return _this._onHttpResponseClose(response); });\n        this.responseUrl = this._url.href.split('#')[0];\n        this.status = response.statusCode;\n        this.statusText = http.STATUS_CODES[this.status];\n        this._parseResponseHeaders(response);\n        var lengthString = this._responseHeaders['content-length'] || '';\n        this._totalBytes = +lengthString;\n        this._lengthComputable = !!lengthString;\n        this._setReadyState(XMLHttpRequest.HEADERS_RECEIVED);\n    };\n    XMLHttpRequest.prototype._onHttpResponseData = function (response, data) {\n        if (this._response !== response) {\n            return;\n        }\n        this._responseParts.push(new Buffer(data));\n        this._loadedBytes += data.length;\n        if (this.readyState !== XMLHttpRequest.LOADING) {\n            this._setReadyState(XMLHttpRequest.LOADING);\n        }\n        this._dispatchProgress('progress');\n    };\n    XMLHttpRequest.prototype._onHttpResponseEnd = function (response) {\n        if (this._response !== response) {\n            return;\n        }\n        this._parseResponse();\n        this._request = null;\n        this._response = null;\n        this._setReadyState(XMLHttpRequest.DONE);\n        this._dispatchProgress('load');\n        this._dispatchProgress('loadend');\n    };\n    XMLHttpRequest.prototype._onHttpResponseClose = function (response) {\n        if (this._response !== response) {\n            return;\n        }\n        var request = this._request;\n        this._setError();\n        request.abort();\n        this._setReadyState(XMLHttpRequest.DONE);\n        this._dispatchProgress('error');\n        this._dispatchProgress('loadend');\n    };\n    XMLHttpRequest.prototype._onHttpTimeout = function (request) {\n        if (this._request !== request) {\n            return;\n        }\n        this._setError();\n        request.abort();\n        this._setReadyState(XMLHttpRequest.DONE);\n        this._dispatchProgress('timeout');\n        this._dispatchProgress('loadend');\n    };\n    XMLHttpRequest.prototype._onHttpRequestError = function (request, error) {\n        if (this._request !== request) {\n            return;\n        }\n        this._setError();\n        request.abort();\n        this._setReadyState(XMLHttpRequest.DONE);\n        this._dispatchProgress('error');\n        this._dispatchProgress('loadend');\n    };\n    XMLHttpRequest.prototype._dispatchProgress = function (eventType) {\n        var event = new XMLHttpRequest.ProgressEvent(eventType);\n        event.lengthComputable = this._lengthComputable;\n        event.loaded = this._loadedBytes;\n        event.total = this._totalBytes;\n        this.dispatchEvent(event);\n    };\n    XMLHttpRequest.prototype._setError = function () {\n        this._request = null;\n        this._response = null;\n        this._responseHeaders = null;\n        this._responseParts = null;\n    };\n    XMLHttpRequest.prototype._parseUrl = function (urlString, user, password) {\n        var absoluteUrl = this.nodejsBaseUrl == null ? urlString : url.resolve(this.nodejsBaseUrl, urlString);\n        var xhrUrl = url.parse(absoluteUrl, false, true);\n        xhrUrl.hash = null;\n        var _a = (xhrUrl.auth || '').split(':'), xhrUser = _a[0], xhrPassword = _a[1];\n        if (xhrUser || xhrPassword || user || password) {\n            xhrUrl.auth = (user || xhrUser || '') + \":\" + (password || xhrPassword || '');\n        }\n        return xhrUrl;\n    };\n    XMLHttpRequest.prototype._parseResponseHeaders = function (response) {\n        this._responseHeaders = {};\n        for (var name_1 in response.headers) {\n            var loweredName = name_1.toLowerCase();\n            if (this._privateHeaders[loweredName]) {\n                continue;\n            }\n            this._responseHeaders[loweredName] = response.headers[name_1];\n        }\n        if (this._mimeOverride != null) {\n            this._responseHeaders['content-type'] = this._mimeOverride;\n        }\n    };\n    XMLHttpRequest.prototype._parseResponse = function () {\n        var buffer = Buffer.concat(this._responseParts);\n        this._responseParts = null;\n        switch (this.responseType) {\n            case 'json':\n                this.responseText = null;\n                try {\n                    this.response = JSON.parse(buffer.toString('utf-8'));\n                }\n                catch (_a) {\n                    this.response = null;\n                }\n                return;\n            case 'buffer':\n                this.responseText = null;\n                this.response = buffer;\n                return;\n            case 'arraybuffer':\n                this.responseText = null;\n                var arrayBuffer = new ArrayBuffer(buffer.length);\n                var view = new Uint8Array(arrayBuffer);\n                for (var i = 0; i < buffer.length; i++) {\n                    view[i] = buffer[i];\n                }\n                this.response = arrayBuffer;\n                return;\n            case 'text':\n            default:\n                try {\n                    this.responseText = buffer.toString(this._parseResponseEncoding());\n                }\n                catch (_b) {\n                    this.responseText = buffer.toString('binary');\n                }\n                this.response = this.responseText;\n        }\n    };\n    XMLHttpRequest.prototype._parseResponseEncoding = function () {\n        return /;\\s*charset=(.*)$/.exec(this._responseHeaders['content-type'] || '')[1] || 'utf-8';\n    };\n    XMLHttpRequest.ProgressEvent = progress_event_1.ProgressEvent;\n    XMLHttpRequest.InvalidStateError = errors_1.InvalidStateError;\n    XMLHttpRequest.NetworkError = errors_1.NetworkError;\n    XMLHttpRequest.SecurityError = errors_1.SecurityError;\n    XMLHttpRequest.SyntaxError = errors_1.SyntaxError;\n    XMLHttpRequest.XMLHttpRequestUpload = xml_http_request_upload_1.XMLHttpRequestUpload;\n    XMLHttpRequest.UNSENT = 0;\n    XMLHttpRequest.OPENED = 1;\n    XMLHttpRequest.HEADERS_RECEIVED = 2;\n    XMLHttpRequest.LOADING = 3;\n    XMLHttpRequest.DONE = 4;\n    XMLHttpRequest.cookieJar = Cookie.CookieJar();\n    return XMLHttpRequest;\n}(xml_http_request_event_target_1.XMLHttpRequestEventTarget));\nexports.XMLHttpRequest = XMLHttpRequest;\nXMLHttpRequest.prototype.nodejsHttpAgent = http.globalAgent;\nXMLHttpRequest.prototype.nodejsHttpsAgent = https.globalAgent;\nXMLHttpRequest.prototype.nodejsBaseUrl = null;\n//# sourceMappingURL=xml-http-request.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","process","Buffer","__extends","extendStatics","Object","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","defineProperty","value","http","https","os","url","progress_event_1","errors_1","xml_http_request_event_target_1","xml_http_request_upload_1","Cookie","XMLHttpRequest","_super","options","_this","UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE","onreadystatechange","readyState","response","responseText","responseType","status","statusText","timeout","upload","XMLHttpRequestUpload","responseUrl","withCredentials","_method","_url","_sync","_headers","_loweredHeaders","_mimeOverride","_request","_response","_responseParts","_responseHeaders","_aborting","_error","_loadedBytes","_totalBytes","_lengthComputable","_restrictedMethods","CONNECT","TRACE","TRACK","_restrictedHeaders","connection","cookie","cookie2","date","dnt","expect","host","origin","referer","te","trailer","upgrade","via","_privateHeaders","_userAgent","type","arch","versions","node","v8","_anonymous","anon","open","XMLHttpRequest.prototype.open","method","async","user","password","toUpperCase","SecurityError","xhrUrl","_parseUrl","_setReadyState","setRequestHeader","XMLHttpRequest.prototype.setRequestHeader","name","InvalidStateError","loweredName","toLowerCase","test","console","warn","toString","send","XMLHttpRequest.prototype.send","data","protocol","_sendFile","_sendHttp","NetworkError","abort","XMLHttpRequest.prototype.abort","_setError","_dispatchProgress","getResponseHeader","XMLHttpRequest.prototype.getResponseHeader","getAllResponseHeaders","XMLHttpRequest.prototype.getAllResponseHeaders","keys","map","key","join","overrideMimeType","XMLHttpRequest.prototype.overrideMimeType","mimeType","nodejsSet","XMLHttpRequest.prototype.nodejsSet","nodejsHttpAgent","httpAgent","nodejsHttpsAgent","httpsAgent","baseUrl","parse","parsedUrl","SyntaxError","nodejsBaseUrl","XMLHttpRequest.nodejsSet","XMLHttpRequest.prototype._setReadyState","dispatchEvent","ProgressEvent","XMLHttpRequest.prototype._sendFile","Error","XMLHttpRequest.prototype._sendHttp","_setData","_finalizeHeaders","_sendHxxpRequest","XMLHttpRequest.prototype._sendHxxpRequest","cookieJar","getCookies","CookieAccessInfo","hostname","pathname","toValueString","_a","hxxp","agent","request","bind","requestMethod","port","path","auth","headers","setTimeout","_onHttpTimeout","on","_onHttpResponse","error","_onHttpRequestError","_startUpload","XMLHttpRequest.prototype._finalizeHeaders","Connection","Host","Referer","XMLHttpRequest.prototype._onHttpResponse","setCookies","indexOf","statusCode","location","_reset","_onHttpResponseData","_onHttpResponseEnd","_onHttpResponseClose","href","split","STATUS_CODES","_parseResponseHeaders","lengthString","XMLHttpRequest.prototype._onHttpResponseData","push","XMLHttpRequest.prototype._onHttpResponseEnd","_parseResponse","XMLHttpRequest.prototype._onHttpResponseClose","XMLHttpRequest.prototype._onHttpTimeout","XMLHttpRequest.prototype._onHttpRequestError","XMLHttpRequest.prototype._dispatchProgress","eventType","event","lengthComputable","loaded","total","XMLHttpRequest.prototype._setError","XMLHttpRequest.prototype._parseUrl","urlString","absoluteUrl","resolve","hash","xhrUser","xhrPassword","XMLHttpRequest.prototype._parseResponseHeaders","name_1","XMLHttpRequest.prototype._parseResponse","buffer","concat","JSON","arrayBuffer","ArrayBuffer","view","Uint8Array","_parseResponseEncoding","_b","XMLHttpRequest.prototype._parseResponseEncoding","exec","CookieJar","XMLHttpRequestEventTarget","globalAgent"]
}
