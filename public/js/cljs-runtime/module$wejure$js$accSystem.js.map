{
"version":3,
"file":"module$wejure$js$accSystem.js",
"lineCount":43,
"mappings":"A;;AAGA,IAAIA,kCAAMC,+BAAA,CAAI,CAAEC,MAAO,CAAC,yBAAD,CAAT,CAAJ,CAAV;AACA,IAAIC,mCAAOH,+BAAIG,CAAAA,IAAJ,EAAWC,CAAAA,MAAX,CAAkB,CAACC,eAAgB,IAAjB,CAAlB,CAAX;AAEO,IAAIC,oCAAQA,QAAQ,CAACC,IAAD,EAAOC,QAAP,CAAiB;AACxCL,kCAAKM,CAAAA,IAAL,CAAUF,IAAV,EAAgBC,QAAhB,EAA0B,CAAC,CAAEE,GAAF,CAAD,CAAA,IAAa;AACnC,QAAIA,GAAJ,CAAS;AACLC,YAAOC,CAAAA,UAAWC,CAAAA,SAAUC,CAAAA,WAA5B,EAAA;AACAC,WAAA,CAAML,GAAN,CAAA;AAFK,KAAT,KAIK;AACDV,qCAAIgB,CAAAA,GAAJ,CAAQ,OAAR,CAAA;AACAL,YAAOC,CAAAA,UAAWC,CAAAA,SAAUC,CAAAA,WAA5B,EAAA;AACAH,YAAOC,CAAAA,UAAWC,CAAAA,SAAUI,CAAAA,UAA5B,EAAA;AAHC;AAL8B,GAAvC,CAAA;AADwC,CAArC;AAcA,IAAIC,uCAAWA,QAAQ,CAACX,IAAD,EAAOC,QAAP,CAAiB;AAC3CL,kCAAKgB,CAAAA,MAAL,CAAYZ,IAAZ,EAAkBC,QAAlB,EAA4B,CAAC,CAAEE,GAAF,CAAD,CAAA,IAAa;AACrC,QAAIA,GAAJ,CAAS;AACLC,YAAOC,CAAAA,UAAWQ,CAAAA,gBAAiBN,CAAAA,WAAnC,EAAA;AACAC,WAAA,CAAML,GAAN,CAAA;AAFK,KAAT,KAIK;AACDV,qCAAIgB,CAAAA,GAAJ,CAAQ,OAAR,CAAiBK,CAAAA,GAAjB,CAAqBd,IAArB,CAAA;AACAQ,WAAA,CAAM,8BAAN,CAAA;AACAJ,YAAOC,CAAAA,UAAWQ,CAAAA,gBAAiBN,CAAAA,WAAnC,EAAA;AACAH,YAAOC,CAAAA,UAAWQ,CAAAA,gBAAiBE,CAAAA,WAAnC,EAAA;AAJC;AALgC,GAAzC,CAAA;AAYA,SAAO,IAAP;AAb2C,CAAxC;AAgBA,IAAIC,qCAASA,QAAQ,EAAG;AAC3BpB,kCAAKqB,CAAAA,KAAL,EAAA;AACAC,QAAOC,CAAAA,QAASC,CAAAA,MAAhB,CAAuB,IAAvB,CAAA;AAF2B,CAAxB;AApCP;AAAA,IAAAC,6BAAA,EAAA;AAMWtB;AAAAA,0BAAAA,CAAAA,KAAAA,GAAAA,iCAAAA;AA8BAiB;AAAAA,0BAAAA,CAAAA,MAAAA,GAAAA,kCAAAA;AAhBAL;AAAAA,0BAAAA,CAAAA,QAAAA,GAAAA,oCAAAA;;",
"sources":["wejure/js/accSystem.js"],
"sourcesContent":["import GUN from 'goog:module$node_modules$gun$browser';\r\nimport 'goog:module$node_modules$gun$sea';\r\n\r\nvar gun = GUN({ peers: ['http:localhost:8001/gun'] });              // host configured in relay.js\r\nvar user = gun.user().recall({sessionStorage: true});\r\n\r\nexport var login = function(name, password) {                       // function for logging in\r\n    user.auth(name, password, ({ err }) => {\r\n        if (err) {\r\n            wejure.components.loginPage.stopLoading();\r\n            alert(err);     \r\n        } \r\n        else {\r\n            gun.get(\"users\");                                       // retrieve the user list in gunDB\r\n            wejure.components.loginPage.stopLoading();\r\n            wejure.components.loginPage.toMainPage();               // redirect to the main page\r\n        }\r\n    });\r\n}\r\n\r\nexport var register = function(name, password) {                    // function for registering the account\r\n    user.create(name, password, ({ err }) => {\r\n        if (err) {\r\n            wejure.components.registrationPage.stopLoading();\r\n            alert(err);\r\n        } \r\n        else {\r\n            gun.get(\"users\").set(name);                             // add the username into the user list in gunDB\r\n            alert(\"Account created successfully\");\r\n            wejure.components.registrationPage.stopLoading();\r\n            wejure.components.registrationPage.toLoginPage();       // redirect to the login page\r\n        }\r\n    });\r\n    return true;\r\n}    \r\n\r\nexport var logout = function() {                                    // function for logging out\r\n    user.leave();\r\n    window.location.reload(true);\r\n}\r\n\r\n\r\n"],
"names":["gun","GUN","peers","user","recall","sessionStorage","login","name","password","auth","err","wejure","components","loginPage","stopLoading","alert","get","toMainPage","register","create","registrationPage","set","toLoginPage","logout","leave","window","location","reload","$jscomp$tmp$exports$module$name"]
}
